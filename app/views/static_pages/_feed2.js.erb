$('[data-more-content]').append("<%=j render(partial: item_partial, collection: items, format: 'html', as: items.first.class.name.downcase.to_sym) %>");

<% if (items.current_page == items.total_pages) %>
  $('[data-more-link]').hide();
<% else %>
  $('[data-more-link] a').attr('href', "<%= url_for(page: items.current_page + 1) %>");
<% end %>

$('[data-more-link]').attr('data-current', '<%= items.current_page %>');
$('[data-more-link]').attr('data-total', '<%= items.total_pages %>');